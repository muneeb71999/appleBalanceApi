<%- include("./includes/_header.ejs") %>
	<div class="container mt-5">
		<div class="row">
			<div class="col-md-6 mx-auto">
				<%- include("./partials/messages.ejs") %>
					<h1 class="mb-4">Create an account.</h1>
					<form id="form" action="/users/register" method="POST">
						<input class="form-control mb-2" name="username" type="text" autocomplete="off" id="username"
							placeholder="Username" required />
						<input class="form-control mb-2" name="email" type="email" autocomplete="off" id="email" placeholder="Email"
							required />
						<input class="form-control mb-2" name="password" type="password" autocomplete="off" id="password"
							placeholder="Password" required />
						<input class="form-control mb-2" name="confirmPassword" type="password" autocomplete="off"
							id="confirmPassword" placeholder="Confirm Password" required />
						<input class="form-control mb-2" name="ipAddress" type="hidden" autocomplete="off" id="ipAddress"
							required />
						<div class="mt-4 d-flex align-items-center justify-content-between w-100">
							<button class="btn btn-primary px-5 d-flex align-items-center justify-content-between" type="submit"
								id="btn">
								<div>Register</div>
								<div style="display: none; margin-left: 20px;" class="spinner-border spinner-border-sm" id="spinner"
									role="status">
									<span class="visually-hidden">Loading...</span>
								</div>
							</button>
							<a href="/users/login">Have an account? Login Here</a>
						</div>
					</form>
			</div>
		</div>
	</div>
	<script>
		async function getIp() {
			const ipInput = document.getElementById("ipAddress");
			const ipAddressRes = await fetch("https://api.ipify.org?format=json");
			const { ip } = await ipAddressRes.json();
			ipInput.value = ip;
		}
		getIp();
	</script>
	<%- include("./includes/_footer.ejs") %>